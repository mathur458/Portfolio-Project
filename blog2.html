<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Database Snapshots Explained</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-800 font-sans leading-relaxed">

  <div class="max-w-4xl mx-auto px-6 py-12">
    <h1 class="text-4xl font-bold mb-6 text-blue-800">Understanding Database Snapshots in SQL Server</h1>

    <p class="mb-4">Database snapshots are static, read-only ‚Äúpictures‚Äù of your database at a particular point in time. Available in SQL Server Enterprise Edition, they capture the database's state but <span class="font-semibold text-red-600">do not replace backups</span>.</p>

    <div class="bg-blue-100 border-l-4 border-blue-500 p-4 mb-6">
      <h2 class="font-semibold text-blue-800">Analogy 1</h2>
      <p>Imagine taking a screenshot of a text document. No matter how much you edit the document, the screenshot doesn‚Äôt change. Similarly:</p>
      <ul class="list-disc list-inside mt-2">
        <li>You can‚Äôt modify a snapshot.</li>
        <li>It captures your data at a specific moment.</li>
        <li>You can restore your database using the snapshot.</li>
      </ul>
    </div>

    <h2 class="text-2xl font-semibold mt-8 mb-2 text-gray-700">SQL Syntax</h2>

    <div class="bg-gray-100 p-4 rounded mb-4">
      <p class="font-mono text-sm text-gray-700">
        CREATE DATABASE &lt;snapshot_name&gt;<br>
        ON ( NAME = &lt;logical_data_filename&gt;, <br>
        FILENAME = '&lt;path_to_snapshot_file&gt;' )<br>
        AS SNAPSHOT OF &lt;database_name&gt;;
      </p>
    </div>

    <div class="bg-gray-100 p-4 rounded mb-6">
      <p class="font-mono text-sm text-gray-700">
        RESTORE DATABASE &lt;database_name&gt;<br>
        FROM DATABASE_SNAPSHOT = '&lt;snapshot_name&gt;';
      </p>
    </div>

    <h2 class="text-2xl font-semibold mt-8 mb-2">Key Features</h2>
    <ul class="list-disc list-inside mb-6">
      <li>Read-only, static snapshot</li>
      <li>Captures exact state at a point in time</li>
      <li>Stored on the same disk as original</li>
      <li>Uses copy-on-write technology</li>
    </ul>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
      <div class="bg-green-100 p-4 rounded shadow">
        <h3 class="font-semibold text-green-800 mb-2">Advantages</h3>
        <ul class="list-disc list-inside text-green-900">
          <li>Fast to create</li>
          <li>Easy rollback</li>
          <li>Low disk usage</li>
        </ul>
      </div>
      <div class="bg-red-100 p-4 rounded shadow">
        <h3 class="font-semibold text-red-800 mb-2">Disadvantages</h3>
        <ul class="list-disc list-inside text-red-900">
          <li>Read-only</li>
          <li>Depends on original DB</li>
          <li>Not portable or a true backup</li>
        </ul>
      </div>
    </div>

    <h2 class="text-2xl font-semibold mt-8 mb-2">Use Cases</h2>
    <ul class="list-disc list-inside mb-6">
      <li>Testing risky changes</li>
      <li>Performing analytics or comparisons</li>
      <li>Quick undo before dangerous queries</li>
    </ul>

    <div class="bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-6">
      <h2 class="font-semibold text-yellow-800">Analogy 2 - Game Save Points</h2>
      <p>Think of snapshots as save points in a video game. You save your progress after level 5 and continue playing. If you fail at level 8, you can revert to the level 5 save ‚Äî but the save itself never changes. If the game crashes, you lose both the game and the save point ‚Äî unless you made a backup of the whole game.</p>
    </div>

    <div class="bg-gray-200 p-4 rounded mb-6">
      <h2 class="text-xl font-semibold text-gray-800 mb-2">ü§î Why are snapshots not backups?</h2>
      <ul class="list-disc list-inside text-gray-700">
        <li>Snapshots depend on the same disk as the original database.</li>
        <li>If the disk fails, both are lost.</li>
        <li>Backups are stored separately and offer disaster recovery.</li>
      </ul>
    </div>

    <div class="bg-white border p-4 rounded shadow mb-8">
      <h2 class="text-xl font-semibold text-gray-800 mb-2">Features of Backups</h2>
      <ul class="list-disc list-inside text-gray-700">
        <li>Stored on separate media</li>
        <li>Long-term retention</li>
        <li>Independent of live database</li>
      </ul>
    </div>

    <div class="bg-red-100 p-4 rounded">
      <h2 class="text-lg font-semibold text-red-800 mb-2">üö´ Can You Edit Snapshots?</h2>
      <p>No. Snapshots are <strong>read-only</strong> by design. You can query them but cannot update, delete, or insert. If you need to make changes, restore the database from the snapshot and save a new one.</p>
    </div>

    <footer class="mt-12 text-center text-gray-500 text-sm">
      ¬© 2025 Deeya Mathur. All rights reserved.
    </footer>
  </div>

</body>
</html>
